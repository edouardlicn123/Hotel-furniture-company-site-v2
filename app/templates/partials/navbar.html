{# app/templates/partials/navbar.html - 全站统一导航栏（2026-01 重构版 - 已移除旧版 Cart 链接） #}
{# ... 变更记录保持原样 ... #}

{# 新增：独立 Logo 容器，使用绝对定位，完全脱离 navbar opacity 影响 #}
<div class="logo-container" style="position: fixed; top: 15px; left: 30px; z-index: 1100;">
    <a href="/" style="display: block; opacity: 1 !important; filter: none !important;">
        {% if settings.logo %}
            <img src="{{ get_image_url('logo', settings.logo) }}?v={{ current_timestamp }}"
                 alt="{{ settings.company_name or 'Hotel Furniture Manufacturer' }}"
                 id="navbar-logo"
                 style="height: 60px; max-width: 180px; object-fit: contain; opacity: 1 !important; filter: brightness(1.1) contrast(1.2) saturate(1.3) !important;">
        {% else %}
            <span class="fw-bold fs-4" style="opacity: 1 !important; color: #fff;">{{ settings.company_name or 'Hotel Furniture Manufacturer' }}</span>
        {% endif %}
    </a>
</div>

<nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm sticky-top">
    <div class="container">
        {# 品牌区：只保留 catalog 标识（如果有），Logo 已独立 #}
        <a class="navbar-brand d-flex align-items-center" href="/" style="visibility: hidden; width: 0; height: 0; overflow: hidden;">
            {# 占位符，确保布局不崩，但实际不显示 #}
        </a>

        {# catalog 模式下显示 Catalogue 标签（移到右边或调整位置） #}
        {% if settings.mode == 'catalog' %}
        <span class="ms-3 fw-bold text-uppercase text-primary fs-5" style="position: relative; top: 15px; left: 220px; z-index: 1100;">Catalogue</span>
        {% endif %}

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-center">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('series.list') }}">Series</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('products.list_products') }}">Products</a>
                </li>

                {% if settings.mode == 'official' %}
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('main.about') }}">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('contact.contact_page') }}">Contact Us</a>
                </li>
                {% endif %}

                <li class="nav-item">
                    {% if settings.mode == 'official' %}
                    <a class="nav-link" href="{{ url_for('cart.online_cart') }}">
                        <i class="bi bi-cart-fill me-1"></i> Cart
                    </a>
                    {% elif settings.mode == 'catalog' %}
                    <a class="nav-link" href="{{ url_for('cart.offline_cart') }}">
                        <i class="bi bi-list-check me-1"></i> List
                    </a>
                    {% endif %}
                </li>
            </ul>
        </div>
    </div>
</nav>
